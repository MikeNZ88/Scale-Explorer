<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guitar Scale Explorer</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Header -->
        <header class="header">
            <h1>Guitar Scale Explorer</h1>
            <p class="subtitle">Master scales through keys, modes, and harmonic relationships</p>
        </header>

        <!-- Search Bar -->
        <div class="search-section">
            <div class="search-container">
                <label for="mode-search">Search Modes:</label>
                <div class="search-input-container">
                    <input type="text" id="mode-search" placeholder="e.g., C phrygian dominant, A minor pentatonic..." autocomplete="off">
                    <div class="search-suggestions hidden" id="search-suggestions">
                        <!-- Suggestions will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Scale Controls -->
        <div class="scale-controls">
            <div class="control-group">
                <label for="key-select">Root Note:</label>
                <select id="key-select">
                    <option value="C">C</option>
                    <option value="Db">Db</option>
                    <option value="D">D</option>
                    <option value="Eb">Eb</option>
                    <option value="E">E</option>
                    <option value="F">F</option>
                    <option value="F#">F#</option>
                    <option value="G">G</option>
                    <option value="Ab">Ab</option>
                    <option value="A">A</option>
                    <option value="Bb">Bb</option>
                    <option value="B">B</option>
                </select>
            </div>

            <div class="control-group">
                <label for="category-select">Scale Type:</label>
                <select id="category-select">
                    <!-- Options will be populated by JavaScript -->
                </select>
            </div>

            <div class="control-group">
                <label for="mode-select">Mode:</label>
                <select id="mode-select">
                    <!-- Options will be populated by JavaScript -->
                </select>
            </div>

            <div class="control-group">
                <label for="color-toggle">
                    <input type="checkbox" id="color-toggle" checked>
                    <span class="color-toggle-container">
                        <span class="color-toggle-label">ðŸŽ¨ Colors</span>
                    </span>
                </label>
            </div>
        </div>

        <!-- Scale Display -->
        <div class="scale-card">
            <div class="scale-header">
                <h2 class="scale-title">
                    <span class="parent-scale">C Major</span>
                    <span class="mode-name">Ionian</span>
                </h2>
            </div>

            <!-- Fretboard Display - Moved to top -->
            <div class="fretboard-section">
                <h3>Fretboard Pattern</h3>
                <p class="fretboard-hint">Click the fretboard to open the detailed modal view</p>
                <div class="fretboard-container">
                    <!-- Fretboard will be rendered here -->
                </div>
            </div>

            <div class="scale-content">
                <div class="scale-section">
                    <h3>Notes</h3>
                    <div class="notes">
                        <!-- Notes will be populated by JavaScript -->
                    </div>
                </div>

                <div class="scale-section">
                    <h3>Intervals</h3>
                    <div class="intervals">
                        <!-- Intervals will be populated by JavaScript -->
                    </div>
                </div>

                <div class="scale-section">
                    <h3>Formula</h3>
                    <div class="formula">
                        <!-- Formula will be populated by JavaScript -->
                    </div>
                </div>

                <div class="scale-section chords-section">
                    <h3>Diatonic Chords</h3>
                    <div class="chord-controls">
                        <button class="chord-type-btn active" data-type="triads">Triads</button>
                        <button class="chord-type-btn" data-type="sevenths">7th Chords</button>
                    </div>
                    <div class="chords-container">
                        <div class="chords-list" id="chords-list">
                            <!-- Chords will be populated by JavaScript -->
                        </div>
                    </div>
                </div>

                <div class="scale-section mode-info" style="display: none;">
                    <h3>Mode Information</h3>
                    <div class="mode-details">
                        <div class="mode-mood">
                            <strong>Mood:</strong> <span></span>
                        </div>
                        <div class="mode-description">
                            <strong>Description:</strong> <span></span>
                        </div>
                        <div class="mode-applications">
                            <strong>Applications:</strong>
                            <div class="application-tags">
                                <!-- Application tags will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>
                </div>

                <div class="scale-section related-modes">
                    <h4>Related Modes</h4>
                    <div class="mode-buttons">
                        <!-- Mode buttons will be populated by JavaScript -->
                    </div>
                    <div class="parent-scale-info">
                        <!-- Parent scale information will be populated by JavaScript -->
                    </div>
                </div>
            </div>
        </div>

        <!-- Audio Controls will be inserted here by JavaScript -->
    </div>

    <!-- Fretboard Modal -->
    <div class="modal hidden" id="fretboard-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Detailed Fretboard View</h2>
                <button class="close-modal" onclick="UIComponents.closeFretboardModal()">Ã—</button>
            </div>
            <div class="modal-fretboard">
                <!-- Modal fretboard content will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <!-- Core modules in dependency order -->
    <script src="js/core/constants.js"></script>
    <script src="js/core/music-theory.js"></script>
    <script src="js/core/audio-engine.js"></script>
    <script src="js/ui/components.js"></script>
    <script src="js/ui/audio-controls.js"></script>
    <script src="js/core/app-controller.js"></script>

    <!-- Main app initialization -->
    <script src="app.js"></script>
</body>
</html>